tcp_addr = "0.0.0.0:34512"
http_addr = "0.0.0.0:8080"
# é»˜è®¤30sæ— ä¸ŠæŠ¥åˆ¤å®šä¸‹çº¿
offline_threshold = 30

# ä½¿ç”¨vnstatæ¥æ›´ç²¾å‡†ç»Ÿè®¡æœˆæµé‡ï¼Œå¼€å¯å‚è€ƒä¸‹é¢ vnstat ä¸€èŠ‚
vnstat = false

# name ä¸»æœºå”¯ä¸€æ ‡è¯†ï¼Œä¸å¯é‡å¤ï¼Œalias ä¸ºå±•ç¤ºå
# æ‰¹é‡éƒ¨ç½²æ—¶å¯ä»¥ç”¨ä¸»æœº hostname ä½œä¸º nameï¼Œç»Ÿä¸€å¯†ç 
hosts = [
  {name = "h1", password = "p1", alias = "n1", location = "ğŸ‡¨ğŸ‡³", type = "kvm", monthstart = 1},
  {name = "h2", password = "p2", alias = "n2", location = "ğŸ‡ºğŸ‡¸", type = "kvm", monthstart = 1},
]

# ä¸å¼€å¯å‘Šè­¦ï¼Œå¯çœç•¥åé¢é…ç½®
# å‘Šè­¦é—´éš”é»˜è®¤ä¸º30s
notify_interval = 30
# https://core.telegram.org/bots/api
# https://jinja.palletsprojects.com/en/3.0.x/templates/#if
[tgbot]
enabled = false
bot_token = "<tg bot token>"
chat_id = "<chat id>"
# host å¯ç”¨å­—æ®µå‚è§ payload.rs æ–‡ä»¶ HostStat ç»“æ„
online_tpl = "â—<b>Server Status</b>\nâ— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºæ¢å¤ä¸Šçº¿ ğŸŸ¢"
offline_tpl = "â—<b>Server Status</b>\nâ— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºå·²ç»ä¸‹çº¿ ğŸ”´"
# æ¨¡æ¿ç½®ç©ºåˆ™åœç”¨è‡ªå®šä¹‰å‘Šè­¦ï¼Œåªä¿ç•™ä¸Šä¸‹çº¿é€šçŸ¥
custom_tpl = """
{% if host.memory_used / host.memory_total > 0.5  %}
<pre>â—{{ host.name }} ä¸»æœºå†…å­˜ä½¿ç”¨ç‡è¶…50%, å½“å‰{{ (100 * host.memory_used / host.memory_total) | round }}%  </pre>
{% endif %}

{% if host.hdd_used / host.hdd_total  > 0.5  %}
<pre>â—{{ host.name }} ä¸»æœºç¡¬ç›˜ä½¿ç”¨ç‡è¶…50%, å½“å‰{{ (100 * host.hdd_used / host.hdd_total) | round }}% </pre>
{% endif %}
"""

[wechat]
enabled = false
corp_id = "<corp id>"
corp_secret = "<corp secret>"
agent_id = "<agent id>"
online_tpl = "â—Server Status\nâ— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºæ¢å¤ä¸Šçº¿ ğŸŸ¢"
offline_tpl = "â—Server Status\nâ— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºå·²ç»ä¸‹çº¿ ğŸ”´"
custom_tpl = """
{% if host.memory_used / host.memory_total > 0.8  %}
â—{{ host.name }} ä¸»æœºå†…å­˜ä½¿ç”¨ç‡è¶…80%
{% endif %}

{% if host.hdd_used / host.hdd_total  > 0.8  %}
â—{{ host.name }} ä¸»æœºç¡¬ç›˜ä½¿ç”¨ç‡è¶…80%
{% endif %}
"""

[email]
enabled = false
server = "smtp.gmail.com"
username = "user@email.com"
password = "***"
to = "user1@email.com;user2@email.com"
subject = "ServerStatus Notification"
online_tpl = "â—<b>Server Status</b><br/>â— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºæ¢å¤ä¸Šçº¿ ğŸŸ¢"
offline_tpl = "â—<b>Server Status</b><br/>â— {{ host.location }} åœ°åŒºçš„ {{ host.name }} ä¸»æœºå·²ç»ä¸‹çº¿ ğŸ”´"
custom_tpl = """
{% if host.memory_used / host.memory_total > 0.8  %}
<pre>â—{{ host.name }} ä¸»æœºå†…å­˜ä½¿ç”¨ç‡è¶…80%, å½“å‰{{ (100 * host.memory_used / host.memory_total) | round }}%  </pre>
{% endif %}

{% if host.hdd_used / host.hdd_total  > 0.8  %}
<pre>â—{{ host.name }} ä¸»æœºç¡¬ç›˜ä½¿ç”¨ç‡è¶…80%, å½“å‰{{ (100 * host.hdd_used / host.hdd_total) | round }}% </pre>
{% endif %}
"""
